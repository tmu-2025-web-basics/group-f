<!DOCTYPE html>
<html lang="ja">
 <head>
    <meta charset="UTF-8">
    <title>かぷせるわーるど</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <link rel="stylesheet"  href="./index.css" />
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Yusei Magic:wght@400&display=swap" />
    <link rel="stylesheet" href="toppage-style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 </head>

 <body class = "home">
    <header class="main-header">
      <div class="header-container">
        <div class="title-menu-group">
          <button class="hamburger-menu" id="hamburger-menu">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <nav class="header-nav" id="header-nav">
          <ul>
            <li><a href="#home">ホーム</a></li>
            <li><a href="select-machine/select-machine.html">ガチャ選択</a></li>
            <li><a href="shohin-ichiran/">商品一覧</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <audio id = "bgm" src = "Splash_of_water.mp3" loop></audio>
    <div id="sound-modal" class="sound-select-modal">
      <div class="sound-select-box">
        <p>サウンド</p>
        <button id="sound-on">ON</button>
        <button id="sound-off">OFF</button>
      </div>
    </div>
  <!-- サイト紹介文 -->
   <div class="site-description">
     <p>こちらはガチャガチャ紹介サイトです。ガチャガチャの世界に飛び込んでみませんか？<br>
     ガチャ好きとあまり回さないの大学生によるコメントもどうぞご堪能あれ！</p>
   </div>
   <div id="loading-modal" class="loading-modal">Loading...</div>
   <a href = "select-machine/select-machine.html" class = "btn float">Go  to  World</a>  

   <div id="world-loading" class="world-loading-modal">Let's go to select the world!</div>

   <script>
      const modal = document.getElementById('sound-modal');
      const bgm = document.getElementById('bgm');
      const loading = document.getElementById('loading-modal');
      function showMainScreen(playSound) {
        modal.style.display = 'none';
        loading.classList.add('active');
        setTimeout(() => {
          loading.classList.remove('active');
          if (playSound) bgm.play();
        if (playSound) bgm.play();
      setTimeout(() => {// さらに3秒後にボタンやタイトルを表示
        document.querySelectorAll('.float').forEach(el =>{
          el.classList.add('show');
        });
      }, 3000); // 3秒後にボタンを表示
    }, 2000); // 2秒間ローディング画面を表示

    document.querySelector('.btn').addEventListener('click', function(e) {
    e.preventDefault();
    const worldLoading = document.getElementById('world-loading');
    worldLoading.classList.add('active');
    setTimeout(() => {
     // ページ遷移
      window.location.href = this.href;
    }, 4000); // 2秒間ローディング表示
    });
  }
      document.getElementById('sound-on').onclick = () => showMainScreen(true);
      document.getElementById('sound-off').onclick = () => showMainScreen(false);

      // ハンバーガーメニューの制御
      const hamburgerMenu = document.getElementById('hamburger-menu');
      const headerNav = document.getElementById('header-nav');
      
      hamburgerMenu.addEventListener('click', function() {
        hamburgerMenu.classList.toggle('active');
        headerNav.classList.toggle('active');
      });

      // ナビゲーションリンクをクリックしたらメニューを閉じる
      document.querySelectorAll('.header-nav a').forEach(link => {
        link.addEventListener('click', () => {
          hamburgerMenu.classList.remove('active');
          headerNav.classList.remove('active');
        });
      });

    </script>
    
 </body>
</html>
